pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
-- snake game -- 

-- snake grows as it eats

-- 1 point per food
  
-- body copy the last position 
--	of the head

-- when head touches body then
-- game over or wall
 
 
function _init()
	snake_init()
end

function _update()
	snake_update()
end

function _draw()
	cls()
	map()
	snake_draw(snake)
end
-->8
-- snake --

function snake_init()
	
	snake = {
	
		{x=0,y=0,sp=16}, -- tail
				-- body --
		{x=0,y=0,sp=17},
	
		{x=0,y=0,sp=18} 	-- head
		
	}
	
	-- stores head latest position
	snake_h = {}
	
end

function snake_update()
		snake_movement(snake)
	
end

function snake_draw(snake)
		
		-- snake head 
		local head = snake[#snake]
		
		-- minus the head
		for i = 1 , #snake-1 do
		 			
				-- body part 
				local	part = snake[i]
				
				-- update to the last record
				part.x = snake_h[#snake_h].x
				part.y = snake_h[#snake_h].y
				
				--print(part.sp)
				spr(part.sp,part.x+ (i-1)*8,part.y,1,1)
				spr(head.sp,head.x+ (#snake-1)*8,head.y,1,1)

		end
		

--		for i = 1 , #snake_h do
		 	
		 --print(snake_h[i].x .. "," .. snake_h[i].y)		
				
	--	end
		
	--	print(head.sp)

		
		

	--	for i=1,#snake do
		
		 -- for j=1,#snake[i] do
		  		
		  	--	part = snake[i][j] -- body part spr
		  	--	body_l = snake[i] 	-- body location x/y
		  		
		   -- spr(part,body_l.x + (i-1)*8,body_l.y,1,1,body_l.fx,body_l.fy)
		    
		--  end
		  
	--	end

end

function snake_movement(snake)
	
		local head = snake[#snake]
			
		-- tile coordinates
		tile_x = 	flr(head.x / 8)
  tile_y = 	flr(head.y / 8)
  
		-- converting tile coordinates to pixel coordinates
		cursor_x = (tile_x * 8) 
  cursor_y = tile_y * 8

	for i = 1 , #snake do
	
			add(snake_h,{
					x = cursor_x,
					y = cursor_y		
			})
			
			if btn(⬇️) then
				head.y+=1
			end
			
			head.x +=0.5
					
		
	end
 
end
-->8
-- map --

function map_init()

end

function map_update()

end

function map_draw()

end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00034000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00088800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888780000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00088800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000033bbbb333353000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
009a9a9a3333b3333543330800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9abb3333333333338000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a3b333bb33333338000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
009a9a9a33333bb33543330800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003bbb33333353000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
eeeeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e222222e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
eeeeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
