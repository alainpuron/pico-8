pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
	function _init()
		plr_init()
	--	fish_init()
		fish_placement()
		ymove_init()
	end

	function _update()
	
		plr_update()
		dcam()
		fish_pickup()
		anmove_update()
	end

	function _draw()
		cls()
		map()
		plr_draw()
		draw_fish()
	end
-->8
-- player --
function plr_init()
 plr={
 x=63, -- x loc
 y=63, -- y loc
 sprite=0,
 fx=false,
 fy=false}
 

end

function plr_update()

	if btn(➡️) then -- right move
		plr.x+=1
		plr.sprite=0 -- spr number
		plr.fx=false -- x axis rot
		plr.fy=false
	end
	
	if btn(⬅️) then -- left move
		plr.x-=1
		plr.sprite=0
		plr.fx=true
		plr.fy=false

	end
	
	if btn(⬆️) then -- down
		plr.y-=1
		plr.sprite=32
		plr.fy=false -- y axis rot

	end
	
	if btn(⬇️) then -- up
		plr.y+=1
		plr.sprite=32
		plr.fy=true

	end
	
	
	-- up and right 
	if btn(⬆️) and btn(➡️) then
		plr.sprite=41
		plr.fy=false
		plr.fx=false

	end
	
	-- up and left
	if btn(⬆️) and btn(⬅️) then
		plr.sprite=41
		plr.fy=false
		plr.fx=true
	end
	
	-- down and right
	if btn(⬇️) and btn(➡️) then
		plr.sprite=41
		plr.fy=true
		plr.fx=false

	end
	
	-- down and left
	if btn(⬇️) and btn(⬅️) then
		plr.sprite=41
		plr.fy=true
		plr.fx=true

	end

end


function plr_draw()

-- spr,x,y,w,h,fx,fy
spr(plr.sprite,plr.x,plr.y,2,2,plr.fx,plr.fy)

end
-->8
-- fish placement and pick --
 
fish_list={} -- stores the fish
fish_count=0 -- fish collected
function fish_placement()

				local fish_limit=5 -- limit
				local spawned_fish=0 -- count

				while spawned_fish < fish_limit
				 do
								for x=0,20 do
								
									for y=0,20 do
									
										if rnd(15)<.1 and spawned_fish < fish_limit 
										 then
										 -- add a fish to the list
											add(fish_list,{
											
											x = x * 8, -- convert grid to pixel
											y = y * 8,
											sp = rnd({7,8,9}), -- sprite index
											act = true
											
											})	
											spawned_fish+=1
										
										end
										
									end		
								end

						end

end

function fish_pickup()

-- for every fish in fish list
	for fish in all(fish_list) do
	
		-- if fish can still be picked
		if fish.act -- (true)
		then
		-- player is 8 or less pixels away
			if abs(plr.x - fish.x) <= 8 and abs(plr.y - fish.y) <= 8 then
				fish.act = false
				fish_count += 1 -- add to count
			end
		end
		
	end
	
end


function draw_fish()
	print(fish_count,cx+10,cy+10,7)

	-- for all fish in fish list
	for fish in all(fish_list)
	 do
	 -- if it can be picked
				if fish.act then 
		-- draw fish
					spr(fish.sp,fish.x,fish.y)
			end
	
	end			
		
		
end
-->8
-- camera --
function dcam()

	cx=plr.x+8-63
	cy=plr.y+8-63
	camera(cx,cy)

end


-->8
-- movement animation --
function ymove_init() -- y 
--	y_sprite=32
	
	spr_timer = 0
	f_frame = 32 -- first frame
	l_frame = 36 -- last frame
	animation_speed = 40

end

-- animation movement 
function anmove_update()
	
	if btn(⬆️) then 
		
	
		if spr_timer < animation_speed then 
			spr_timer+=1
			else
				if plr.sprite < l_frame 
					then
						plr.sprite +=2
				else
					plr.sprite = f_frame
					end
			 spr_timer = 0
			end
			
		
	end -- if
	
end -- fuc
__gfx__
00000000000000000000000000000000000000000000000000000000000660000002200000011000000000000033333333333333cccccccccccccccc00000000
00000000000000000000000000000000000000000000000000000000d0111600e0999a0080888900000000000333434333334334cccccc7ccc6666cc00000000
00000000000000000000000000000000000000000000000000000000d6111210e299919081888180000000000334433334433343ccccccccc667776c00000000
00000000000000000000000000000000000000000000000000000000dd611110ee29999088188880000000000333443433443434cc7ccc7c6777777600000000
00000000000033300000000000003330000000000000000000000000d6111110e299999081888880000000000344444444444444cccccccc6777776600000000
00000000000313100000000000031310000000000000000000000000d0166600e09aaa0080899900000000000334444444444444ccccccccc666666c00000000
00000000003333300000000000333330000000000000000000000000000660000002200000011000000000000334444444444444ccc7cccccccccccc00000000
006600066633a990006600066633a990000000000000000000000000000000000000000000000000000000000033444444444444cccccccccccccccc00000000
006676666633aa99006676666633aa990000000000000000000000000000000000000000000000000000000033344444cccccccccccccccccccccccc00000000
007766666566000000776666656600000000000000000000000000000000000000000000000000000000000033433444cccccccccc7cc7cccccccccc00000000
000665665560000000066566556000000000000000000000000000000000000000000000000000000000000033444444ccccc777cc7cc7cccccccccc00000000
000665556660000000066555666000000000000000000000000000000000000000000000000000000000000034444444cc77cccccc7cc7cccccccccc00000000
000066666600000000006666660000000000000000000000000000000000000000000000000000000000000033444444cccccccccc7cc7cccccccccc00000000
000009990000000000009909900000000000000000000000000000000000000000000000000000000000000033334444cccc777cccc7c7cccccccccc00000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033444444c777ccccccc7c7cccccccccc00000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034444444cccccccccccccccccccccccc00000000
00000000900000000000000090000000000000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009a900000000000009a900000000000009a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000aaa0000000000000aaa0000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000131000000000000013100000000000001310000000000000000000000000000000000000000000aa00000000000000aa0000000000000000000000000
00000003330000000000000333000000000000033300000000000000000000000000000000000000000313900000000000031390000000000000000000000000
00000003630000000000000363000000000000036300000000000000000000000000000000000000003331000000000000333100000000000000000000000000
00000006660000000000000666000000000000066600000000000000000000000000000000000000666333000000000066633300000000000000000000000000
00000066666000000000006666600000000000666660000000000000000000000000000000000065666630000000006566663000000000000000000000000000
00000656665600000000065666560000000006566656000000000000000000000000000000000655666600000000065566660000000000000000000000000000
00000656665600000000065666560000000006566656000000000000000000000000000000006556665600000000655666560000000000000000000000000000
00000656665600000000065666560000000006566656000000000000000000000000000000006666656000000000666665600000000000000000000000000000
00000665656600000000066565660000000006656566000000000000000000000000000000006766556000000000676655600000000000000000000000000000
00000976667900000000097666700000000000766679000000000000000000000000000000006766566000000000676656600000000000000000000000000000
00000067776000000000096777600000000000677769000000000000000000000000000000000677799000000000067779000000000000000000000000000000
00000006660000000000000666000000000000066600000000000000000000000000000000000066600000000000006660000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000003bb33b3b4444444433333333333333333333333333333333
cccccccccccccccccccccccc00000000000000000000000000000000006666000000000000000000b33333b3444444443bb33bb3333333333333333333333333
cccccccccccccccccccccccc00000000000000000000000000000000066777600000000000000000354345354444444433333333333333bbb3333bbb33333333
ccccc667ccc776ccc67666cc00000000000000000000000000000000677777760000000000000000445444444444444433333333333333333333333333333333
cccccccccccccccccccccccc0000000000000000000000000000000067777766000000000000000044445445444444443333333b33333333333333bb333bb333
667cccccc67766ccc666777c000000000000000000000000000000000666666000000000000000004544444444444444333333333333bb3333333333333333b3
cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000444545444444444433bb333333333333333333bbbb333333
cccccccccccccccccccccccc0000000000000000000000000000000000000000000000000000000045444445444444443333bbbb33333333b333333333333333
cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000444444444444444433333333333333333333333333333333
cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000004444444444444444bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
ccccc611cc1116cc0000000000000000000000000000000000000000000000000000000000000000444444444444444444b4b444bb44bbbbb4b444bbbb4444bb
cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000044444444444444444b4b444bbbbbbbbbbbbb44444bbbb4bb
cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000044444444444444444bbb4bb44444bbb4444b4444444bb4bb
cccc11ccccccc11c0000000000000000000000000000000000000000000000000000000000000000444444444444444444444b44bb444444bbb4b44bbb4bb4b4
61cccccccc61cccc0000000000000000000000000000000000000000000000000000000000000000444444444444444444444444444444444444444444444444
cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000444444444444444444444444444444444444444444444444
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777777777777777777777777777777
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000066666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccccccccccc
__map__
4c4d4e4f4e4f4c4d4e4f4c4d4e4f4c4d1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c5d5e5f5e5f5c5d5e5f5c5d5e5f5c5d1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6c6d6e6f6e6f6c6d6e6f6c6d6e6f6c6d1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7c7d7e7f7e7f7c7d7e7f7c7d7e7f7c7d1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
