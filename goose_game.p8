pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
	function _init()
		plr_init()
	--	fish_init()
		fish_placement()

	end

	function _update()
	
		plr_update()
		dcam()
		fish_pickup()
	end

	function _draw()
		cls()
		map()
		plr_draw()
		draw_fish()
	end
-->8
-- player --
function plr_init()
 plr={
 x=63, -- x loc
 y=63, -- y loc
 sprite=0,
 fx=false,
 fy=false}
 

end

function plr_update()

	if btn(➡️) then -- right move
		plr.x+=1
		plr.sprite=0 -- spr number
		plr.fx=false -- x axis rot
		plr.fy=false
	end
	
	if btn(⬅️) then -- left move
		plr.x-=1
		plr.sprite=0
		plr.fx=true
		plr.fy=false

	end
	
	if btn(⬆️) then -- down
		plr.y-=1
		plr.sprite=32
		plr.fy=false -- y axis rot

	end
	
	if btn(⬇️) then -- up
		plr.y+=1
		plr.sprite=32
		plr.fy=true

	end
	
	
	-- up and right 
	if btn(⬆️) and btn(➡️) then
		plr.sprite=34
		plr.fy=false
		plr.fx=false

	end
	
	-- up and left
	if btn(⬆️) and btn(⬅️) then
		plr.sprite=34
		plr.fy=false
		plr.fx=true
	end
	
	-- down and right
	if btn(⬇️) and btn(➡️) then
		plr.sprite=34
		plr.fy=true
		plr.fx=false

	end
	
	-- down and left
	if btn(⬇️) and btn(⬅️) then
		plr.sprite=34
		plr.fy=true
		plr.fx=true

	end

end


function plr_draw()

-- spr,x,y,w,h,fx,fy
spr(plr.sprite,plr.x,plr.y,2,2,plr.fx,plr.fy)

end
-->8
-- fish placement
 
fish_list={} -- stores the fish
fish_count=0 -- fish collected
function fish_placement()

				local fish_limit=5 -- limit
				local spawned_fish=0 -- count

				while spawned_fish < fish_limit
				 do
								for x=0,20 do
								
									for y=0,20 do
									
										if rnd(15)<.1 and spawned_fish < fish_limit 
										 then
											add(fish_list,{
											
											x = x * 8, -- convert grid to pixel
											y = y * 8,
											sp = rnd({7,8,9}),    -- sprite index
											act = true
											
											})	
											spawned_fish+=1
										
										end
										
									end		
								end

						end

end

function fish_pickup()
	for fish in all(fish_list) do
		if fish.act then
			if abs(plr.x - fish.x) <= 8 and abs(plr.y - fish.y) <= 8 then
				fish.act = false
				fish_count += 1
			end
		end
	end
end


function draw_fish()
	print(fish_count,cx+10,cy+10,7)
	
	
	for fish in all(fish_list)
	 do

				if fish.act then 
					spr(fish.sp,fish.x,fish.y)
				end
	
	end			
		
		
end
-->8
-- camera --
function dcam()

	cx=plr.x+8-63
	cy=plr.y+8-63
	camera(cx,cy)

end


__gfx__
00000000000000000000000000000000000000000000000000000000000660000002200000011000000000000033333333333333cccccccccccccccc00000000
00000000000000000000000000000000000000000000000000000000d0111600e0999a0080888900000000000333434333334334cccccc7ccc6666cc00000000
00000000000000000000000000000000000000000000000000000000d6111210e299919081888180000000000334433334433343ccccccccc667776c00000000
00000000000000000000000000000000000000000000000000000000dd611110ee29999088188880000000000333443433443434cc7ccc7c6777777600000000
00000000000033300000000000000000000000000000000000000000d6111110e299999081888880000000000344444444444444cccccccc6777776600000000
00000000000313100000000000000000000000000000000000000000d0166600e09aaa0080899900000000000334444444444444ccccccccc666666c00000000
00000000003333300000000000000000000000000000000000000000000660000002200000011000000000000334444444444444ccc7cccccccccccc00000000
006600066633a9900000000000000000000000000000000000000000000000000000000000000000000000000033444444444444cccccccccccccccc00000000
006676666633aa9900000000000000000000000000000000000000000000000000000000000000000000000033344444cccccccccccccccccccccccc00000000
007766666566000000000000000000000000000000000000000000000000000000000000000000000000000033433444cccccccccc7cc7cccccccccc00000000
000665665560000000000000000000000000000000000000000000000000000000000000000000000000000033444444ccccc777cc7cc7cccccccccc00000000
000665556660000000000000000000000000000000000000000000000000000000000000000000000000000034444444cc77cccccc7cc7cccccccccc00000000
000066666600000000000000000000000000000000000000000000000000000000000000000000000000000033444444cccccccccc7cc7cccccccccc00000000
000009990000000000000000000000000000000000000000000000000000000000000000000000000000000033334444cccc777cccc7c7cccccccccc00000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033444444c777ccccccc7c7cccccccccc00000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034444444cccccccccccccccccccccccc00000000
00000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000001310000000000000000000aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000003330000000000000000031390000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000003630000000000000000333100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000006660000000000000066633300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000066666000000000006566663000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000656665600000000065566660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000656665600000000655666560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000656665600000000666665600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000665656600000000676655600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000976667900000000676656600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000067776000000000067779900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000006660000000000006660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000066777600000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000677777760000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000677777660000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000066666600000000000000000000000000000000000000000000000000000000000000000
__map__
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
