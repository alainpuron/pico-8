pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- game 

function _init()
	player_init()
	asteroid_init()
end

function _update()
	player_update()
	asteroid_creation()
	asteroid_update()
end

function _draw()
	cls()
	map()
	player_draw()
	asteroid_draw()
	
end
-->8
-- player --
function player_init()
	
	plr={
		x=65,
		y=65,
		sprite=0,
		health=100,
		speed=1
	}
end

function player_update()
	move(plr)
end

function player_draw()
	player_cam(plr)

	spr(plr.sprite,plr.x,plr.y,1,1)
end
-->8
-- movement --

function move(plr)

	if btn(⬆️) then
		plr.y-=plr.speed
	end
	
	if btn(⬇️) then
		plr.y+=plr.speed
	end
	
	if btn(⬅️) then 
		plr.x-=plr.speed
	end
	
	if btn(➡️) then
		plr.x+=plr.speed
	end
	
end
-->8
-- camera --
function player_cam(plr)
	cx=plr.x+8-65
	cy=plr.y+8-65
	
	camera(cx,cy)
end
-->8
-- asteroids generation --

function asteroid_init()
	asteroids={}
	creation_time=0
end

function asteroid_update()
	
	for asteroid in all(asteroids)
		do
		
		asteroid.y+=asteroid.speed
		
			if asteroid.y > 100
				then
				del(asteroids,asteroid)
			end
	
	end
	
end

function asteroid_draw()

	for asteroid in all(asteroids)
		do
		spr(asteroid.spd,asteroid.x,asteroid.y)
	end
	
end

function asteroid_creation()

	creation_time+=1
	
	-- delays creation
	if creation_time >= 15 then
	
		add(asteroids, {
		x=flr(rnd(65)),
		y=flr(rnd(65)), 
		spd=16,
		speed=1 
		
	})
	
	creation_time=0

	end

end
__gfx__
00166100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01666d10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
016ccd10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1667cd21000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
166c7d21000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1666dd21000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
016dd210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
009d2900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00155100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01555510000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
15555561000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
155555d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01556d10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0015d100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
3030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000131313131313131313131313131300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000131100000025252525000000001300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000131100000025110000000000001300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000131111001125000000000000001300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000130000111125250000000000001300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000130011111100000000000000131300300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000131313131313131313131313131313300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
