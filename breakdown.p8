pico-8 cartridge // http://www.pico-8.com
version 43
__lua__




function _init()
	paddle_init() -- paddle init
	ball_init() -- ball init 
end

function _update()
	paddle_update(paddle) -- paddle update
	ball_update(ball) -- ball update
end

function _draw()
	cls()
	paddle_draw(paddle) -- draw paddle
	ball_draw(ball) -- draw ball
	
	print(collition(paddle))
end
-->8
-- paddle --


function paddle_init()

	paddle = {
		x=0,
		y=110,
		middle = 4, -- 8 pixel long,half is 4
		sprite = 16
	}
	
end

function paddle_update(paddle)
	
	-- paddle only moves on x axis 
	paddle.x=stat(32) -- x
	
	-- allows mouse to work
	poke(0x5f2d,1)
	
	-- functions --  

	
	
end

function paddle_draw(paddle)
	
	-- draw the paddle 
	spr(paddle.sprite,paddle.x,paddle.y,1,1)
	
end


-->8
-- ball -- 

function ball_init()
	ball = {
		x=0,
		y=0,
		vel_x = 1,
		vel_y = 1,
		max_speed = 10,
		sprite = 1
	
	}
	
	
end


function ball_update(ball)
	
	ball_fall(ball)
end

function ball_draw(ball)
	spr(ball.sprite,ball.x,ball.y,1,1)
end
-->8
-- collition -- 

function ball_fall(b)

	
	b.y += b.vel_y

	-- last x/y
	local lx = b.x -- ball x
	local ly = b.y -- ball y
	
	-- if a collition happens
	if collition(paddle) then
			
				b.x = lx
    b.y = ly

    -- reverse velocity to simulate bounce
    b.vel_y = -b.vel_y

	end
	
end



	
function collition(b, p)

  return b.x + 8 > p.x
  						 and b.x < p.x + p.w
  						 and b.y + 8 > p.y
  						 and b.y < p.y + p.h
end
	

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000006666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000006666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
